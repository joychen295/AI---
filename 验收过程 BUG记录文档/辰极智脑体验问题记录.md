# 辰极智脑体验问题记录

## 1. 登录页面交互问题

### 问题描述

用户在登录页面输入用户名后，点击密码输入框，在还未输入密码的情况下，系统即开始报错。

### 问题截图

![登录报错截图](/Users/joy/.gemini/antigravity/brain/e2534e06-6a8b-4e3f-bdd9-50f14544fafe/uploaded_image_1764927283774.png)

## 2. 登录模块交互逻辑优化建议

为了提升用户体验，建议对登录模块的交互逻辑进行如下优化：

### 核心原则

**“不过度打扰，但及时反馈”**

### 推荐交互逻辑

1. **触发验证的时机 (Validation Timing)**
    * **用户名/账号输入框**：
        * **不要**在用户输入过程中（`onInput` / `onChange`）立即报错，这会打断用户思路。
        * 建议在 **失去焦点 (onBlur)** 时进行格式校验（如是否为空、是否符合邮箱/手机号格式）。
        * 如果格式正确，但需要校验账号是否存在，建议推迟到点击“登录”按钮后，或者在 `onBlur` 时静默校验。
    * **密码输入框**：
        * **绝对不要**在用户聚焦（`onFocus`）但未输入时报错（即当前遇到的问题）。
        * **不要**在输入过程中报错。
        * 建议在 **点击“登录”按钮 (onSubmit)** 时统一校验用户名和密码的匹配性。
        * 仅在 **失去焦点 (onBlur)** 且内容为空时，才提示“密码不能为空”（可选，通常提交时校验即可）。

2. **错误提示方式 (Error Feedback)**
    * **位置**：错误提示文字应直接显示在对应的输入框下方，而不是仅在顶部弹窗（Toast），这样用户能直接看到哪里出了问题。
    * **样式**：输入框边框变红，同时显示红色错误文案。
    * **消除**：一旦用户重新开始输入（`onInput`），应立即清除该输入框的错误状态（红框和错误文案），代表用户正在修正。

3. **默认状态与聚焦状态**
    * **默认**：显示清晰的 Placeholder（提示语），如“请输入账号/手机号”、“请输入密码”。
    * **聚焦 (Focus)**：输入框高亮（如蓝色边框），Placeholder 保持或淡化，光标闪烁。此时不应有任何错误提示。

4. **辅助功能**
    * **密码可见性**：提供“小眼睛”图标，允许用户查看已输入的密码，减少输错概率。
    * **Caps Lock 提示**：检测到大写锁定开启时，在密码框内或下方给出提示。
    * **回车登录**：在密码框输入完成后，按 Enter 键应直接触发登录操作。

### 总结优化方案

当前问题在于校验触发过早（可能是 `onFocus` 或 字段为空时的即时校验）。
**修改建议**：将密码框的非空校验逻辑移动到 **点击登录按钮** 时触发，或者最少也是在 **`onBlur`（失去焦点）** 后触发。确保用户在准备输入密码的阶段，界面保持干净、无报错干扰。
